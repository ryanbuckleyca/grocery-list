<!-- 
  TODO:
  [rb] Make section to edit headers/categories
  [jv] Allow user to create custom order. Drag and drop elements of list?
  Swipe left to delete, right to edit? Instead of buttons
  [rb] Overlay form for creating new FoodItem instead of prompt*2
  [jv] Allow for create page in server.js
  [rb] Create Shop page
  Enable team shopping
  [rb] enable dark mode
  Make collapsible categories
  [rb] figure out why outline persists following enter key after edit
 -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>311 Grocery List</title>

    <link href="https://fonts.googleapis.com/css2?family=Itim&display=swap" rel="stylesheet" />
    <!-- Bootstrap 4: CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/reefjs/dist/reef.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js"></script>
    <script src="https://kit.fontawesome.com/a367e5e4f1.js" crossorigin="anonymous"></script>
    <!-- App styles -->
    <link type="text/css" rel="stylesheet" href="light.css" title="swap" />
    <link type="text/css" rel="stylesheet" href="style.css" />
    <script>
      const cookieStyle = document.cookie.replace("style=", "")
      const linkTags = document.getElementsByTagName("link")
      let linkElToSwap

      for(link of linkTags) { if(link.title === "swap") { linkElToSwap = link }}

      if(!linkElToSwap) { 
        console.log("cannot find a <link> tag with title \"swap\"")
       } else {
        //set user's preferred style, if exists
        if(cookieStyle === "light.css" || cookieStyle === "dark.css")
          setLinkTag(cookieStyle)

        function switchStyle() {
          linkElToSwap.href.includes("light.css") ? switchTo = "dark.css" : switchTo = "light.css"
          setLinkTag(switchTo)
        }

        function setLinkTag(value) {
          linkElToSwap.setAttribute("href", value)
          document.cookie = "style=" + value
        }
      }
    </script>


  </head>
  <body>
    <div id="groceryList" class="container-fluid">
      <div id="groceryMenu" class="row no-gutters text-center align-top">
        <button id="menuButton" class="menuButton col-1" onclick="toggleMenu()">
          <i class="fas fa-hamburger"></i>
        </button>
      </a>
        <div class="col-10">
        <h1><span>Grocery List</span></h1>
          <div id="dropdown" onblur="alert('hi!')">
            <a href="#stock"><span>Stock</span></a>
            <a href="#shop"><span>Shop</span></a>
            <a href="#about"><span>About</span></a>
            <a href="#style" onclick="switchStyle()"><span><i class="fas fa-adjust"></i></span></a>
          </div>
        </div>
        <button class="scrollButton col-1" onclick="window.scroll(0,0)">
          <i class="fas fa-arrow-up"></i>
        </button>
      </div>
      <hr />

      <div class="row"><div id="stock" class="col-12"></div></div>
      <div class="row"><div id="shop" class="col-12"></div></div>
      <script src="index.js" type="application/javascript"></script>
  </body>
</html>